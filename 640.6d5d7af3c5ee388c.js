"use strict";(self.webpackChunkcartel=self.webpackChunkcartel||[]).push([[640],{6640:(N,l,i)=>{i.r(l),i.d(l,{HomeModule:()=>T});var u=i(6814),c=i(5763),e=i(9291);let g=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-layout-page"]],decls:1,vars:0,template:function(n,o){1&n&&e._UZ(0,"router-outlet")},dependencies:[c.lC]}),r})();var s=i(95),p=i(3076),d=i(46);function f(t,r){1&t&&(e.TgZ(0,"span"),e._uU(1,"Continuar"),e.qZA())}function h(t,r){1&t&&(e.TgZ(0,"div",12)(1,"span",13),e._uU(2,"Loading..."),e.qZA()())}function v(t,r){if(1&t&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.hij(" ",a.getFieldError("name")," ")}}function b(t,r){if(1&t&&(e.TgZ(0,"span",14),e._uU(1),e.qZA()),2&t){const a=e.oxw();e.xp6(1),e.hij(" ",a.errorBack," ")}}const x=[{path:"",component:g,children:[{path:"new-page",component:(()=>{var t;class r{constructor(n,o,m,Z){this.fb=n,this.backService=o,this.designService=m,this.router=Z,this.form=this.fb.group({name:["",[s.kI.required,s.kI.minLength(5),s.kI.maxLength(40)]]}),this.submiting=!1,this.errorBack=""}onSubmit(){if(this.submiting=!0,this.form.invalid)return this.form.markAllAsTouched(),void(this.submiting=!1);this.backService.newCartel(this.form.get("name").value).subscribe(n=>{if(console.log("hecho"),n.res)this.designService.cambiarTitulo(this.form.get("name").value),this.router.navigate(["/editar/nuevo"]),this.submiting=!1;else if(n.error)return this.errorBack=n.error,void(this.submiting=!1)},n=>{this.submiting=!1,this.errorBack="Error al conectar con el servidor, favor de contactar con el administrador"})}isValidField(n){return this.form.controls[n].errors&&this.form.controls[n].touched}getFieldError(n){if(!this.form.controls[n])return null;const o=this.form.controls[n].errors||{};for(const m of Object.keys(o))switch(m){case"required":return"Este campo es requerido";case"minlength":return`M\xednimo ${o.minlength.requiredLength} caracteres.`;case"maxlength":return`M\xe1ximo ${o.maxlength.requiredLength} caracteres.`}return null}}return(t=r).\u0275fac=function(n){return new(n||t)(e.Y36(s.qu),e.Y36(p.P),e.Y36(d.g),e.Y36(c.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-get-name-page"]],decls:18,vars:6,consts:[[1,"row","mx-1","justify-content-center",2,"margin-top","100px"],[1,"col-10","col-sm-7","rounded","border","shadow","p-5",3,"formGroup"],[1,"row","text-center"],[1,"row","text-center","mb-3"],["type","email","placeholder","Ej. Cartel Version 1","formControlName","name",1,"form-control","text-center"],[1,"row","justify-content-center","mt-2"],[1,"col-auto"],[1,"btn","btn-primary","shadow",3,"disabled","click"],[4,"ngIf"],["class","spinner-border text-light","role","status",4,"ngIf"],[1,"row","text-center","mt-2"],["class","badge text-bg-danger","style","font-size: 15px;",4,"ngIf"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"],[1,"badge","text-bg-danger",2,"font-size","15px"]],template:function(n,o){1&n&&(e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"h1"),e._uU(4,"Bienvenid@"),e.qZA()(),e.TgZ(5,"div",3)(6,"h2"),e._uU(7,"Ingresa el nombre con el que quieres guardar tu cartel"),e.qZA()(),e._UZ(8,"input",4),e.TgZ(9,"div",5)(10,"div",6)(11,"button",7),e.NdJ("click",function(){return o.onSubmit()}),e.YNc(12,f,2,0,"span",8),e.YNc(13,h,3,0,"div",9),e.qZA()()(),e.TgZ(14,"div",10),e.YNc(15,v,2,1,"span",11),e.qZA(),e.TgZ(16,"div",10),e.YNc(17,b,2,1,"span",11),e.qZA()()()),2&n&&(e.xp6(1),e.Q6J("formGroup",o.form),e.xp6(10),e.Q6J("disabled",1==o.submiting),e.xp6(1),e.Q6J("ngIf",0==o.submiting),e.xp6(1),e.Q6J("ngIf",o.submiting),e.xp6(2),e.Q6J("ngIf",o.isValidField("name")),e.xp6(2),e.Q6J("ngIf",""!=o.errorBack))},dependencies:[u.O5,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]}),r})()},{path:"",pathMatch:"full",redirectTo:"new-page"},{path:"**",redirectTo:""}]}];let C=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.Bz.forChild(x),c.Bz]}),r})();var y=i(6208);let T=(()=>{var t;class r{}return(t=r).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[u.ez,C,y.m]}),r})()}}]);